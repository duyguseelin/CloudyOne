# ===========================================
# ONECLOUD - PRODUCTION SECURITY CONFIGURATION
# ===========================================
# ⚠️ CRITICAL: Never commit actual .env file to git!
# Copy this file to .env and fill with real values

# -----------------
# Node Environment
# -----------------
NODE_ENV=production
PORT=5001
HOST=0.0.0.0
FRONTEND_URL=https://yourdomain.com

# -----------------
# Database (PostgreSQL)
# -----------------
DATABASE_URL=postgresql://username:password@host:5432/cloudyone?sslmode=require&connection_limit=10

# -----------------
# JWT Security
# -----------------
# ⚠️ CRITICAL: Generate with: openssl rand -base64 64 | tr -d '\n'
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_MINIMUM_64_CHARACTERS_LONG
JWT_EXPIRES_IN=15m
REFRESH_TOKEN_EXPIRES_IN=30d

# -----------------
# Cloudflare R2 Storage
# -----------------
R2_ACCOUNT_ID=your_cloudflare_account_id
R2_ACCESS_KEY_ID=your_r2_access_key_id
R2_SECRET_ACCESS_KEY=your_r2_secret_access_key
R2_BUCKET_NAME=onecloude-private
R2_ENDPOINT=https://<account_id>.r2.cloudflarestorage.com
R2_PUBLIC_DOMAIN=https://yourdomain.r2.cloudflarestorage.com

# -----------------
# CORS Configuration
# -----------------
CORS_ORIGINS=https://yourdomain.com

# -----------------
# Rate Limiting & Redis
# -----------------
RATE_LIMIT_ENABLED=true
REDIS_URL=redis://localhost:6379

# -----------------
# Security Headers & SSL/TLS
# -----------------
FORCE_HTTPS=true
TRUST_PROXY=true
HSTS_MAX_AGE=31536000
CSP_ENABLED=true

# -----------------
# Admin Security
# -----------------
ADMIN_IP_WHITELIST=
ADMIN_2FA_REQUIRED=true

# -----------------
# File Limits
# -----------------
MAX_FILE_SIZE_BYTES=26214400
MAX_STORAGE_PER_USER=5368709120

# -----------------
# Email (Optional)
# -----------------
EMAIL_FROM=noreply@yourdomain.com
EMAIL_HOST=smtp.yourdomain.com
EMAIL_PORT=587
EMAIL_USER=your_smtp_user
EMAIL_PASS=your_smtp_password

# -----------------
# Logging
# -----------------
LOG_LEVEL=info
SENTRY_DSN=

# -----------------
# Cookie Security
# -----------------
COOKIE_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING
SECURE_COOKIES=true
COOKIE_SAMESITE=lax

# -----------------
# Feature Flags
# -----------------
ENABLE_PUBLIC_SHARING=true
ENABLE_2FA=true
ENABLE_ADMIN_PANEL=true

# -----------------
# Development (NEVER in production!)
# -----------------
DEBUG_MODE=false
SKIP_EMAIL_VERIFICATION=false
